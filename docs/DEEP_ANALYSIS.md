# Deep Project Analysis: Digital Ecosystem 2026

## üèó –û–±—â–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–Ω–æ–≥–æ–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—É—é —ç–∫–æ—Å–∏—Å—Ç–µ–º—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥–∞–∂–∞–º–∏ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ–º –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:
- **Frontend**: Next.js 14/15, TailwindCSS, Shadcn/UI, Lucide React (–ò–∫–æ–Ω–∫–∏).
- **Backend**: FastAPI, SQLAlchemy (PostgreSQL + pgvector).
- **Bot**: Aiogram 3 (Telegram), Redis (FSM/Cache).
- **CMS/MCP**: Directus 11 (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, –º–µ–¥–∏–∞, AI-–ø—Ä–æ–º–ø—Ç—ã).
- **Infrasructure**: Docker, Traefik, Dokploy.

---

## üíæ –°—Ö–µ–º–∞ –î–∞–Ω–Ω—ã—Ö (Core Entities)
–ö–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –≤ –ë–î:
1. **Catalog**: `Product` (—Å—Ç–∞–Ω–∫–∏) –∏ `SparePart` (–∑–∞–ø—á–∞—Å—Ç–∏). –û–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ (`pgvector`) –¥–ª—è –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞.
2. **Clients & Access**: `Client`, `TelegramUser` (—Ä–æ–ª–∏: director, engineer, procurement).
3. **Operations**: `MachineInstance` (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å—Ç–∞–Ω–æ–∫ —É –∫–ª–∏–µ–Ω—Ç–∞), `ServiceTicket` (–∑–∞—è–≤–∫–∏ –Ω–∞ —Ä–µ–º–æ–Ω—Ç).
4. **Sales**: `Lead` (—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∑–∞—è–≤–æ–∫ –∏–∑ –≤—Å–µ—Ö –∫–∞–Ω–∞–ª–æ–≤: —Å–∞–π—Ç, –±–æ—Ç, TMA).

---

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ü–æ—Ç–æ–∫–∏

### 1. Lead Generation (–°–∞–π—Ç/–ë–æ—Ç ‚ûî AmoCRM)
- –õ—é–±–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (–∑–∞–∫–∞–∑ –≤ –∫–æ—Ä–∑–∏–Ω–µ, SOS-–∑–∞–ø—Ä–æ—Å, –∑–∞–≥—Ä—É–∑–∫–∞ —Å—á–µ—Ç–∞) —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `leads`.
- Backend —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç `leads` —Å AmoCRM —á–µ—Ä–µ–∑ API v4.
- –î–∞–Ω–Ω—ã–µ –æ –∫–æ—Ä–∑–∏–Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ AmoCRM –∫–∞–∫ –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ (`Note`), —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å CRM –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø–æ–ª—è–º–∏.

### 2. Digital Passport (AmoCRM ‚ûî TMA)
- –ü—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ —Å–¥–µ–ª–∫–∏ –≤ AmoCRM –≤ —Å—Ç–∞—Ç—É—Å "–£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ" (ID `142`), –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤–µ–±—Ö—É–∫ –Ω–∞ Backend.
- Backend —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç `MachineInstance` –∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –µ–≥–æ –∫ `Client` –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞.
- –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç –Ω–æ–≤—ã–π —Å—Ç–∞–Ω–æ–∫ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ú–æ–π –ü–∞—Ä–∫¬ª –≤ –±–æ—Ç–µ –∏–ª–∏ –Ω–∞ —Å–∞–π—Ç–µ.

### 3. Hybrid Search
- –ü–æ–∏—Å–∫–æ–≤—ã–π –¥–≤–∏–∂–æ–∫ –≤ `catalog.py` –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π `ILIKE` –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é/–º–æ–¥–µ–ª–∏ –∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ `AIService`.
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∏–ª–∏ –ø–æ—Ö–æ–∂–∏–º –∑–∞–ø—Ä–æ—Å–∞–º.

---

## ü§ñ –†–æ–ª–µ–≤–∞—è –ú–æ–¥–µ–ª—å Telegram –ë–æ—Ç–∞

- **–ò–Ω–∂–µ–Ω–µ—Ä (Engineer)**:
  - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–µ–≥–æ –ø–∞—Ä–∫–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.
  - –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ —Å–µ—Ä–≤–∏—Å–∞ (SOS –∫–Ω–æ–ø–∫–∞).
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ç–µ–∫—É—â–∏—Ö —Ä–µ–º–æ–Ω—Ç–æ–≤.
  - –î–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏/—á–µ—Ä—Ç–µ–∂–∏).
- **–î–∏—Ä–µ–∫—Ç–æ—Ä (Director)**:
  - –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (—Ç—Ä–∞—Ç—ã –Ω–∞ –¢–û, –∑–∞–∫–∞–∑—ã).
  - –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏.
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.
- **–°–Ω–∞–±–∂–µ–Ω–µ—Ü (Procurement)**:
  - –ó–∞–ø—Ä–æ—Å —Å—á–µ—Ç–æ–≤/–ö–ü —á–µ—Ä–µ–∑ —Ñ–æ—Ç–æ –∏–ª–∏ —Ñ–∞–π–ª—ã (—á–µ—Ä–µ–∑ Lead Generation).
  - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ª–æ–≥–∏—Å—Ç–∏–∫–∏ (–°—Ç–∞—Ç—É—Å –≥—Ä—É–∑–∞).
  - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –∑–∞–ø—á–∞—Å—Ç–µ–π —á–µ—Ä–µ–∑ WebApp.

---

## üé® Frontend –û—Å–æ–±–µ–Ω–Ω–æ—Å—Å—Ç–∏
- **Digital Twin**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `DigitalTwinViewer` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç React Three Fiber –¥–ª—è 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.
- **PWA**: –°–∞–π—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –∏–Ω–∂–µ–Ω–µ—Ä–∞–º–∏ ¬´–≤ –ø–æ–ª—è—Ö¬ª.
- **Directus Driven**: SEO-–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ, —Å—Ç–∞—Ç—å–∏ –≤ –∂—É—Ä–Ω–∞–ª–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ Directus.
